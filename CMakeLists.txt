cmake_minimum_required(VERSION 3.9)
project(jvm C)

set(CMAKE_C_FLAGS "-std=c11 -Wall")

add_executable(jvm src/main.c src/jvm.h src/classfile/classfile.c src/classfile/classfile.h src/jtypes.h src/rtda/heap/jobject.c src/rtda/heap/jobject.h src/classfile/constant.c src/classfile/constant.h src/util/bytecode_reader.h src/util/bytecode_reader.c src/util/convert.c src/util/convert.h src/classfile/attribute.c src/classfile/attribute.h src/util/encoding.h src/jvm.c src/native/registry.c src/native/registry.h src/interpreter/stack_frame.c src/interpreter/stack_frame.h src/slot.h src/interpreter/operand_stack.h src/rtda/ma/jmethod.c src/rtda/ma/jmethod.h src/rtda/ma/jclass.c src/rtda/ma/jclass.h src/rtda/ma/rtcp.c src/rtda/ma/rtcp.h src/rtda/thread/jthread.c src/rtda/thread/jthread.h src/instruction/instruction.c src/instruction/constants.h src/interpreter/operand_stack.c src/rtda/ma/access.h src/rtda/ma/jfield.c src/rtda/ma/jfield.h src/loader/classloader.c src/loader/classloader.h src/util/util.h src/rtda/heap/mm/halloc.c src/rtda/heap/mm/halloc.h src/rtda/heap/mm/gc.c src/rtda/heap/mm/gc.h src/native/java/io/FileDescriptor.c src/native/java/io/FileInputStream.c src/native/java/io/FileOutputStream.c src/native/java/lang/Class.c src/native/java/lang/Double.c src/native/java/lang/Float.c src/native/java/lang/Object.c src/native/java/lang/String.c src/native/java/lang/System.c src/native/java/lang/Thread.c src/native/java/lang/Throwable.c src/native/java/security/AccessController.c src/native/sun/misc/Unsafe.c src/native/sun/misc/VM.c src/native/sun/reflect/Reflection.c src/instruction/comparisons.h src/instruction/loads.h src/instruction/stores.h src/instruction/stacks.h src/instruction/maths.h src/instruction/conversions.h src/instruction/controls.h src/instruction/references.h src/instruction/extended.h src/instruction/reserved.h src/interpreter/interpreter.c src/interpreter/interpreter.h src/rtda/heap/strpool.c src/rtda/heap/strpool.h src/rtda/ma/symref.c src/rtda/ma/symref.h src/util/encoding.c src/jtypes.c src/util/hashmap.c src/util/hashmap.h test/test_hashmap.c test/test.h src/util/vector.c src/util/vector.h test/test_vector.c src/util/util.c src/slot.c src/native/sun/reflect/NativeConstructorAccessorImpl.c src/native/sun/reflect/NativeMethodAccessorImpl.c src/native/sun/reflect/ConstantPool.c src/rtda/heap/jarrobj.c src/rtda/heap/jstrobj.c src/rtda/heap/jclsobj.c src/rtda/ma/util.c src/rtda/ma/util.h src/rtda/heap/jpriobj.c src/rtda/primitive_types.c src/rtda/primitive_types.h src/util/bigendian.h src/native/java/util/concurrent/atomic/AtomicLong.c src/native/java/io/WinNTFileSystem.c src/native/java/lang/ClassLoader.c src/native/java/lang/ClassLoader-NativeLibrary.c src/native/sun/misc/Signal.c src/native/sun/io/Win32ErrorMode.c src/output.c src/output.h)

target_link_libraries (jvm libz)
target_link_libraries (jvm libminizip)
